{"version":3,"sources":["components/Header/Header.module.css","containers/HomePage/HomePage.module.css","containers/FirstCategoryPage/FirstCategoryPage.module.css","containers/SecondCategoryPage/SecondCategoryPage.module.css","containers/BasketPage/BasketPage.module.css","store/reducers/basketReducer.ts","utils/localStorage.ts","store/reducers/index.ts","store/store.ts","store/actions/index.ts","store/constants/actionTypes.ts","hooks/useTypedSelector.ts","components/ShowGoods/ShowGoods.tsx","containers/HomePage/HomePage.tsx","containers/FirstCategoryPage/FirstCategoryPage.tsx","containers/SecondCategoryPage/SecondCategoryPage.tsx","components/Basket/Basket.tsx","containers/BasketPage/BasketPage.tsx","routes/routesConfig.ts","containers/MapPage/MapPage.tsx","components/Header/img/shopping-cart.svg","components/Header/Header.tsx","containers/App/App.tsx","constants/repo.ts","index.tsx"],"names":["module","exports","ActionTypes","initialState","key","data","localStorage","getItem","JSON","parse","getLocalStorage","basketReducer","state","action","type","ADD_GOOD_TO_BASKET","payload","REMOVE_GOOD_FROM_BASKET","omit","rootReducer","combineReducers","basket","store","createStore","subscribe","getState","setItem","stringify","addGoodToBasket","good","removeGoodFromBasket","goodId","useTypedSelector","useSelector","ShowGoods","id","name","category","price","dispatch","useDispatch","storeData","useState","numberOfGoods","setNumberOfGoods","goRedirect","setGoRedirect","dispatchGoodsInBasket","useEffect","arr","to","Card","style","width","marginTop","display","flexDirection","justifyContent","textAlign","Body","Title","Text","fontWeight","Button","variant","onClick","alignItems","marginRight","height","fontSize","borderRadius","padding","margin","borderBottom","borderTop","HomePage","goods","dataBase","className","styles","container","map","index","FirstCategoryPage","firstCategory","filter","elem","SecondCategoryPage","secondCategory","Basket","fullPrice","setFullPrice","showGoods","setShowGoods","numOfGoods","setNumOfGoods","remove","BasketPage","setGoods","Object","entries","allPrice","length","res","color","Badge","bg","marginLeft","routesConfig","path","exact","component","shopOnMap","address","lat","lng","query","ns","load","defaultState","center","zoom","controls","geometry","properties","iconCaption","balloonContentBody","Header","counter","setCounter","values","sumOfGoods","forEach","Navbar","collapseOnSelect","expand","Container","Brand","Toggle","Collapse","Nav","Link","link","link__basket","src","alt","App","basename","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8814bca5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Header_link__svs2y\",\"nav-link-selected\":\"Header_nav-link-selected__3syxW\",\"link__basket\":\"Header_link__basket__1DGA-\",\"basket\":\"Header_basket__1iVUB\",\"counter\":\"Header_counter__TfpgF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomePage_container__bDOKH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FirstCategoryPage_container__1RAI0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SecondCategoryPage_container__2NHVl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BasketPage_container__3jojp\",\"fullPrice\":\"BasketPage_fullPrice__vayvu\"};","import { omit } from 'lodash';\r\nimport { getLocalStorage } from '../../utils/localStorage'; \r\nimport { IInitialState } from '../../types/types';\r\n\r\nenum ActionTypes {\r\n  ADD_GOOD_TO_BASKET = 'ADD_GOOD_TO_BASKET',\r\n  REMOVE_GOOD_FROM_BASKET = 'REMOVE_GOOD_FROM_BASKET'\r\n}\r\n\r\ninterface addProductAction { \r\n  type: ActionTypes.ADD_GOOD_TO_BASKET;\r\n  payload: IInitialState;\r\n}\r\n\r\ninterface removeProductAction { \r\n  type: ActionTypes.REMOVE_GOOD_FROM_BASKET;\r\n  payload: number;\r\n}\r\n\r\ntype ProductAction  = addProductAction | removeProductAction;\r\n\r\n\r\nconst initialState:IInitialState = getLocalStorage('store');\r\n\r\nconst basketReducer = (state = initialState, action: ProductAction): IInitialState => {\r\n  switch (action.type) {\r\n    case ActionTypes.ADD_GOOD_TO_BASKET: \r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    case ActionTypes.REMOVE_GOOD_FROM_BASKET: \r\n      return omit(state, [action.payload])\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default basketReducer;","import { IInitialState } from \"../types/types\";\r\n\r\nexport const getLocalStorage = (key: string): IInitialState => {\r\n  const data = localStorage.getItem(key);\r\n\r\n  if(data !== null){\r\n    return JSON.parse(data)\r\n  }\r\n\r\n  return {};\r\n}\r\n\r\nexport const setLocalStorage = (key: string, data: IInitialState) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n}","import basketReducer from \"./basketReducer\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  basket: basketReducer,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>","import { createStore } from \"redux\";\r\nimport { rootReducer } from \"./reducers\";\r\nimport { setLocalStorage } from \"../utils/localStorage\";\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nstore.subscribe(() => {\r\n  setLocalStorage('store', store.getState().basket);\r\n});\r\n\r\nexport default store;","import { ADD_GOOD_TO_BASKET, REMOVE_GOOD_FROM_BASKET } from \"../constants/actionTypes\";\r\nimport { IInitialState } from \"../../types/types\";\r\n\r\nexport const addGoodToBasket = (good: IInitialState) => ({\r\n  type: ADD_GOOD_TO_BASKET,\r\n  payload: good\r\n})\r\n\r\nexport const removeGoodFromBasket = (goodId: number) => ({\r\n  type: REMOVE_GOOD_FROM_BASKET,\r\n  payload: goodId\r\n})","export const ADD_GOOD_TO_BASKET: string = 'ADD_GOOD_TO_BASKET';\r\nexport const REMOVE_GOOD_FROM_BASKET: string = 'REMOVE_GOOD_FROM_BASKET';","import { TypedUseSelectorHook, useSelector } from \"react-redux\"\r\nimport { RootState } from \"../store/reducers\"\r\n\r\nexport const useTypedSelector:TypedUseSelectorHook<RootState> = useSelector;","import React from 'react';\r\nimport { IGoods } from '../../types/types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addGoodToBasket, removeGoodFromBasket } from '../../store/actions';\r\nimport { useEffect, useState } from 'react';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\n\r\nconst ShowGoods: React.FC<IGoods> = ({\r\n  id,\r\n  name,\r\n  category,\r\n  price\r\n}) => {\r\n  // STORE\r\n  const dispatch = useDispatch();\r\n  const storeData = useTypedSelector(state => state.basket);\r\n\r\n  //  STATE\r\n  const [numberOfGoods, setNumberOfGoods] = useState(0);\r\n  const [goRedirect, setGoRedirect] = useState(false);                         \r\n\r\n\r\n  const dispatchGoodsInBasket = () => {\r\n    \r\n\r\n    dispatch(addGoodToBasket({\r\n      [id]:{\r\n        name,\r\n        category,\r\n        price,\r\n        numberOfGoods: numberOfGoods+1\r\n      }\r\n    }));  \r\n\r\n    setNumberOfGoods(numberOfGoods+1);\r\n  }  \r\n\r\n  const removeGood = () => {\r\n    if(numberOfGoods === 1){\r\n      setNumberOfGoods(0); \r\n      dispatch(removeGoodFromBasket(id)); \r\n    }else{\r\n      dispatch(addGoodToBasket({\r\n        [id]:{\r\n          name,\r\n          category,\r\n          price,\r\n          numberOfGoods: numberOfGoods-1\r\n        }\r\n      }));   \r\n      setNumberOfGoods(numberOfGoods-1);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const arr = storeData[id];\r\n    if(arr){\r\n      setNumberOfGoods(arr.numberOfGoods);\r\n    }\r\n  }, [storeData])\r\n\r\n  if(goRedirect) {\r\n    return <Redirect to='/basket'/>\r\n  };\r\n\r\n  if(!id || !name || !category || !price) return null;\r\n  \r\n  return (\r\n    <Card data-testid=\"showGoods\" style={{ width: '18rem', marginTop: '3rem', display: 'flex', flexDirection: 'column', justifyContent: 'space-between', textAlign: 'center'}}>\r\n      <Card.Body>\r\n        <Card.Title>{name}</Card.Title>\r\n        <Card.Text>\r\n          Category: {category}\r\n        </Card.Text>\r\n        <Card.Text style={{fontWeight: 'bold'}}>\r\n          Price: {price}\r\n        </Card.Text>\r\n        {numberOfGoods === 0 \r\n          ? <Button data-testid=\"addInBasket\" variant=\"primary\" onClick={dispatchGoodsInBasket}>Добавить в корзину</Button> \r\n          : \r\n          <div data-testid=\"chooseItemsBlock\" style={{display: 'flex', justifyContent:'center',alignItems: 'center'}}>\r\n            <Button \r\n              variant=\"success\" style={{marginRight: '0.25rem', height: '38px', fontSize: '15px'}}\r\n              onClick={() => setGoRedirect(true)} \r\n            >\r\n              К корзине\r\n            </Button>\r\n            <Button data-testid=\"removeBtn\" variant=\"primary\" onClick={removeGood} style={{width: '3rem', borderRadius: '0.25rem 0 0 0.25rem'}}>-</Button>\r\n            <Card.Text data-testid=\"numOfGoods\" style={{display: 'inline-block', padding: '6px', margin: '0', width: '48px', height: '38px', borderBottom: '2px solid #0D6EFD', borderTop: '3px solid #0D6EFD'}}>\r\n              {numberOfGoods}\r\n            </Card.Text>\r\n            <Button data-testid=\"addBtn\" variant=\"primary\" onClick={dispatchGoodsInBasket} style={{width: '3rem', borderRadius: '0 0.25rem 0.25rem 0'}}>+</Button>    \r\n          </div>        \r\n        }\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default ShowGoods;","import ShowGoods from '../../components/ShowGoods/ShowGoods';\r\nimport { IGoods } from '../../types/types';\r\nimport dataBase from '../../dataBase/goods.json'\r\nimport styles from './HomePage.module.css';\r\n\r\n\r\nconst HomePage = () => {\r\n  const goods:IGoods[] = dataBase;\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {goods.map(({id, name, category, price}, index) => {\r\n        return (\r\n          <ShowGoods \r\n            key={index}\r\n            id={id}\r\n            name={name}\r\n            category={category}\r\n            price={price} \r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage;","import ShowGoods from '../../components/ShowGoods/ShowGoods';\r\nimport { IGoods } from '../../types/types';\r\nimport dataBase from '../../dataBase/goods.json'\r\n\r\nimport styles from './FirstCategoryPage.module.css';\r\n\r\nconst FirstCategoryPage = () => {\r\n\r\n\r\n  const firstCategory: IGoods[] = dataBase.filter((elem) => {\r\n    return elem.category === 1;\r\n  });\r\n  \r\n  return (\r\n    <div className={styles.container}>\r\n      {firstCategory.map(({id, name, category, price}, index) => {\r\n        return (\r\n          <ShowGoods \r\n            key={index}\r\n            id={id}\r\n            name={name}\r\n            category={category}\r\n            price={price} \r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FirstCategoryPage;","import ShowGoods from '../../components/ShowGoods/ShowGoods';\r\nimport { IGoods } from '../../types/types';\r\nimport dataBase from '../../dataBase/goods.json'\r\n\r\nimport styles from './SecondCategoryPage.module.css';\r\n\r\nconst SecondCategoryPage = () => {\r\n\r\n  const secondCategory: IGoods[] = dataBase.filter((elem) => {\r\n    return elem.category === 2;\r\n  })\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {secondCategory.map(({id, name, category, price}, index) => {\r\n        return (\r\n          <ShowGoods \r\n            key={index}\r\n            id={id}\r\n            name={name}\r\n            category={category}\r\n            price={price} \r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SecondCategoryPage;","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { removeGoodFromBasket, addGoodToBasket } from '../../store/actions';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport { IGoods } from '../../types/types';\r\n\r\nimport styles from './Basket.module.css';\r\n\r\ninterface IBasket extends IGoods {\r\n  fullPrice: number;\r\n  setFullPrice(value: number): void;\r\n  numberOfGoods: number;\r\n}\r\n\r\nconst Basket: React.FC<IBasket> = ({\r\n  id,\r\n  name,\r\n  category,\r\n  price,\r\n  fullPrice,\r\n  setFullPrice,\r\n  numberOfGoods\r\n}) => {\r\n  const [showGoods, setShowGoods] = useState<boolean>(true);\r\n  const [numOfGoods, setNumOfGoods] = useState<number>(numberOfGoods);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const remove = () => {\r\n    dispatch(removeGoodFromBasket(id));\r\n    setShowGoods(false);\r\n    setFullPrice(fullPrice-(price*numOfGoods));\r\n  }\r\n\r\n  const dispatchGoodsInBasket = () => {\r\n    dispatch(addGoodToBasket({\r\n      [id]:{\r\n        name,\r\n        category,\r\n        price,\r\n        numberOfGoods: numOfGoods+1\r\n      }\r\n    }));  \r\n    setFullPrice(fullPrice+price);\r\n    setNumOfGoods(numOfGoods+1);\r\n  }\r\n\r\n  const removeGood = () => {\r\n    if(numOfGoods === 1){\r\n      setNumOfGoods(0); \r\n      remove();\r\n    }else{\r\n      dispatch(addGoodToBasket({\r\n        [id]:{\r\n          name,\r\n          category,\r\n          price,\r\n          numberOfGoods: numOfGoods-1\r\n        }\r\n      }));   \r\n      setFullPrice(fullPrice-price)\r\n      setNumOfGoods(numOfGoods-1);\r\n    }  \r\n  }\r\n  if(!id || !name || !category || !price || !numberOfGoods) return null;\r\n\r\n  return (\r\n    <>\r\n      {!showGoods \r\n        ? null\r\n        : \r\n        <Card data-testid=\"basket\" style={{ width: '18rem', marginTop: '3rem', display: 'flex', flexDirection: 'column', justifyContent: 'space-between', textAlign: 'center'}}>\r\n          <Card.Body>\r\n            <Card.Title>{name}</Card.Title>\r\n            <Card.Text>\r\n              Category: {category}\r\n            </Card.Text>\r\n            <Card.Text style={{fontWeight: 'bold'}}>\r\n              Price: {price}\r\n            </Card.Text>\r\n            <div style={{display: 'flex', justifyContent:'center',alignItems: 'center'}}>\r\n              <Button data-testid=\"removeBtn\" variant=\"primary\" onClick={removeGood} style={{width: '3rem', borderRadius: '0.25rem 0 0 0.25rem'}}>-</Button>\r\n              <Card.Text data-testid=\"numOfGoods\" style={{display: 'inline-block', padding: '6px', margin: '0', width: '48px', height: '38px', borderBottom: '2px solid #0D6EFD', borderTop: '3px solid #0D6EFD'}}>\r\n              {numOfGoods}\r\n              </Card.Text>\r\n              <Button data-testid=\"addBtn\" variant=\"primary\" onClick={dispatchGoodsInBasket} style={{width: '3rem', borderRadius: '0 0.25rem 0.25rem 0'}}>+</Button>\r\n            </div>\r\n            <Button data-testid=\"deleteBtn\" variant=\"danger\" onClick={remove} style={{marginTop: '1rem'}}>Удалить из корзины</Button>\r\n          </Card.Body>\r\n        </Card>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Basket;","import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\nimport Basket from '../../components/Basket/Basket';\r\nimport { Badge } from 'react-bootstrap';\r\n\r\nimport { IBasketPage } from '../../types/types';\r\nimport styles from './BasketPage.module.css';\r\n\r\n\r\nconst BasketPage: React.FC = () => {\r\n  const [goods, setGoods] = useState<IBasketPage[]>([]);\r\n  const [fullPrice, setFullPrice] = useState<number>(0);\r\n\r\n  const storeData = useTypedSelector(state => state.basket);\r\n\r\n  useEffect(() => {\r\n    const arr = Object.entries(storeData);\r\n    let allPrice: number = 0;\r\n    \r\n    if(arr.length){\r\n      const res: IBasketPage[] = arr.map((elem) => {\r\n        allPrice += elem[1].price*elem[1].numberOfGoods;\r\n        return {\r\n          id: elem[0],\r\n          ...elem[1]\r\n        }\r\n      }) \r\n      setFullPrice(allPrice);\r\n      setGoods(res);\r\n    }\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h2 style={{color: '#fff', marginTop:'2rem'}}>Общая цена:<Badge bg=\"secondary\" style={{marginLeft: '1rem'}}>{fullPrice} руб.</Badge></h2>\r\n\r\n      <div className={styles.container}>\r\n        {goods.map(({id, name, category, numberOfGoods, price}, index) => {\r\n          return (\r\n            <Basket \r\n              key={index}\r\n              id={id}\r\n              name={name}\r\n              category={category}\r\n              price={price} \r\n              numberOfGoods={numberOfGoods}\r\n              fullPrice={fullPrice}\r\n              setFullPrice={setFullPrice} \r\n            /> \r\n          )\r\n        })}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default BasketPage;","import HomePage from \"../containers/HomePage/HomePage\";\r\nimport FirstCategoryPage from \"../containers/FirstCategoryPage/FirstCategoryPage\";\r\nimport SecondCategoryPage from \"../containers/SecondCategoryPage/SecondCategoryPage\";\r\nimport BasketPage from \"../containers/BasketPage/BasketPage\";\r\nimport MapPage from \"../containers/MapPage/MapPage\";\r\n\r\nconst routesConfig = [\r\n  {\r\n    path: '/',\r\n    exact: true,\r\n    component: HomePage\r\n  },\r\n  {\r\n    path: '/first',\r\n    exact: true,\r\n    component: FirstCategoryPage\r\n  },\r\n  {\r\n    path: '/second',\r\n    exact: true,\r\n    component: SecondCategoryPage\r\n  },\r\n  {\r\n    path: '/map',\r\n    exact: true,\r\n    component: MapPage\r\n  },\r\n  {\r\n    path: '/basket',\r\n    exact: true,\r\n    component: BasketPage\r\n  },\r\n]\r\n\r\nexport default routesConfig;","import PropTypes from 'prop-types';\r\nimport { YMaps, Map, Placemark } from 'react-yandex-maps';\r\nimport shopOnMap from '../../dataBase/shop.json';\r\nimport styles from './MapPage.module.css';\r\n\r\ninterface coordinates {\r\n  id: string;\r\n  address: string;\r\n  lat: number;\r\n  lng: number;\r\n}\r\n\r\nconst MapPage = () => {\r\n\r\n  const {id, address, lat, lng}: coordinates = shopOnMap;\r\n\r\n  return (\r\n    <div style={{marginTop: '5%'}}> \r\n      <YMaps\r\n        \r\n        query={{\r\n          ns: 'use-load-option',\r\n          load:\r\n            'Map,Placemark,control.ZoomControl,control.FullscreenControl,geoObject.addon.balloon',\r\n        }}\r\n      >\r\n        <Map\r\n          defaultState={{\r\n            center: [lng, lat],\r\n            zoom: 14,\r\n            controls: ['zoomControl', 'fullscreenControl'],\r\n          }}\r\n          width={'100%'}\r\n          height={500}\r\n        >\r\n          \r\n        <Placemark geometry={[lng, lat]}\r\n          properties={{\r\n            iconCaption:\r\n              `${id}`,\r\n            balloonContentBody: \r\n              `${id}, ${address}`\r\n          }}\r\n        />\r\n        </Map>\r\n      </YMaps>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MapPage;","export default __webpack_public_path__ + \"static/media/shopping-cart.34d0f5a4.svg\";","import React from 'react';\r\n\r\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Bootstrap\r\nimport { Navbar, Container, Nav} from 'react-bootstrap';\r\n//\r\n\r\nimport basket from './img/shopping-cart.svg';\r\nimport styles from './Header.module.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst Header: React.FC = () => {\r\n  const [counter, setCounter] = useState<number>(0);\r\n\r\n  const storeData = useTypedSelector(store => store.basket);\r\n\r\n  useEffect(() => {\r\n    const arr = Object.values(storeData);\r\n    let sumOfGoods: number = 0;\r\n\r\n    if(arr.length){\r\n      arr.forEach((elem) => {\r\n        sumOfGoods += elem.numberOfGoods;\r\n      })\r\n    }\r\n   \r\n    setCounter(sumOfGoods);\r\n  }, [storeData]);\r\n\r\n\r\n  return (\r\n    <>\r\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Container>\r\n        <Navbar.Brand>STORE</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav data-testid=\"navbar\" className=\"me-auto\">\r\n            <Nav.Link><Link data-testid=\"home-link\" className={styles.link} to=\"/\">Главная</Link></Nav.Link>\r\n            <Nav.Link><Link className={styles.link} to=\"/first\">Категория 1</Link></Nav.Link>\r\n            <Nav.Link><Link className={styles.link} to=\"/second\">Категория 2</Link></Nav.Link>\r\n            <Nav.Link><Link data-testid=\"contact-link\" className={styles.link} to=\"/map\">Контакты</Link></Nav.Link>\r\n          </Nav>\r\n          <Nav>\r\n            <Nav.Link><Link className={styles.link__basket} to=\"/basket\"><img className={styles.basket} src={basket} alt=\"\" /><span className={styles.counter}>{counter}</span></Link></Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;","import { Route, Switch, HashRouter } from 'react-router-dom';\r\n\r\nimport routesConfig from '../../routes/routesConfig';\r\nimport Header from '../../components/Header/Header';\r\nimport { REPO_NAME } from '../../constants/repo';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Container } from 'react-bootstrap';\r\n\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport styles from './App.module.css';\r\n\r\nconst App = () => {\r\n  return (   \r\n    <HashRouter basename={`/${REPO_NAME}/`}>\r\n      <div>\r\n        <Header />\r\n\r\n      <Container>\r\n        <Switch>\r\n          {routesConfig.map(({path, exact, component}, index) => {\r\n            return (\r\n              <Route \r\n                key={index}\r\n                path={path}\r\n                exact={exact}\r\n                component={component}\r\n              />\r\n            )\r\n          })}\r\n        </Switch>\r\n      </Container>\r\n      </div>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default App;","export const REPO_NAME: string = 'Shopping-cart';","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store/store';\r\n\r\nimport App from './containers/App/App';\r\nimport './styles/index.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}