(this["webpackJsonpreact-store"]=this["webpackJsonpreact-store"]||[]).push([[0],{25:function(e,t,n){e.exports={link:"Header_link__svs2y","nav-link-selected":"Header_nav-link-selected__3syxW",link__basket:"Header_link__basket__1DGA-",basket:"Header_basket__1iVUB",counter:"Header_counter__TfpgF"}},27:function(e){e.exports=JSON.parse('[{"id":1,"name":"Product #1","category":1,"price":100},{"id":2,"name":"Product #2","category":1,"price":150},{"id":3,"name":"Product #3","category":2,"price":600},{"id":4,"name":"Product #4","category":2,"price":1000}]')},31:function(e){e.exports=JSON.parse('{"id":"\u043c\u0430\u0433\u0430\u0437\u0438\u043d \u21161","address":"\u041c\u043e\u0441\u043a\u0432\u0430, \u041a\u0440\u0430\u0441\u043d\u0430\u044f, \u0434. 1","lat":37.618419,"lng":55.751591}')},51:function(e,t,n){e.exports={container:"HomePage_container__bDOKH"}},52:function(e,t,n){e.exports={container:"FirstCategoryPage_container__1RAI0"}},53:function(e,t,n){e.exports={container:"SecondCategoryPage_container__2NHVl"}},54:function(e,t,n){e.exports={container:"BasketPage_container__3jojp",fullPrice:"BasketPage_fullPrice__vayvu"}},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a,c=n(0),r=n.n(c),i=n(15),o=n.n(i),s=n(23),d=n(40),l=n(2),j=n(49);!function(e){e.ADD_GOOD_TO_BASKET="ADD_GOOD_TO_BASKET",e.REMOVE_GOOD_FROM_BASKET="REMOVE_GOOD_FROM_BASKET"}(a||(a={}));var b=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):{}}("store"),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.ADD_GOOD_TO_BASKET:return Object(l.a)(Object(l.a)({},e),t.payload);case a.REMOVE_GOOD_FROM_BASKET:return Object(j.omit)(e,[t.payload]);default:return e}},u=Object(d.a)({basket:O}),m=Object(d.b)(u);m.subscribe((function(){var e,t;e="store",t=m.getState().basket,localStorage.setItem(e,JSON.stringify(t))}));var p=m,x=n(21),h=n(9),f=n(7),g=n(8),y=function(e){return{type:"ADD_GOOD_TO_BASKET",payload:e}},_=function(e){return{type:"REMOVE_GOOD_FROM_BASKET",payload:e}},v=n(77),k=n(72),T=s.c,S=n(1),D=function(e){var t=e.id,n=e.name,a=e.category,r=e.price,i=Object(s.b)(),o=T((function(e){return e.basket})),d=Object(c.useState)(0),l=Object(g.a)(d,2),j=l[0],b=l[1],O=Object(c.useState)(!1),u=Object(g.a)(O,2),m=u[0],p=u[1],x=function(){i(y(Object(f.a)({},t,{name:n,category:a,price:r,numberOfGoods:j+1}))),b(j+1)};return Object(c.useEffect)((function(){var e=o[t];e&&b(e.numberOfGoods)}),[o]),m?Object(S.jsx)(h.a,{to:"/basket"}):t&&n&&a&&r?Object(S.jsx)(v.a,{"data-testid":"showGoods",style:{width:"18rem",marginTop:"3rem",display:"flex",flexDirection:"column",justifyContent:"space-between",textAlign:"center"},children:Object(S.jsxs)(v.a.Body,{children:[Object(S.jsx)(v.a.Title,{children:n}),Object(S.jsxs)(v.a.Text,{children:["Category: ",a]}),Object(S.jsxs)(v.a.Text,{style:{fontWeight:"bold"},children:["Price: ",r]}),0===j?Object(S.jsx)(k.a,{"data-testid":"addInBasket",variant:"primary",onClick:x,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}):Object(S.jsxs)("div",{"data-testid":"chooseItemsBlock",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(S.jsx)(k.a,{variant:"success",style:{marginRight:"0.25rem",height:"38px",fontSize:"15px"},onClick:function(){return p(!0)},children:"\u041a \u043a\u043e\u0440\u0437\u0438\u043d\u0435"}),Object(S.jsx)(k.a,{"data-testid":"removeBtn",variant:"primary",onClick:function(){1===j?(b(0),i(_(t))):(i(y(Object(f.a)({},t,{name:n,category:a,price:r,numberOfGoods:j-1}))),b(j-1))},style:{width:"3rem",borderRadius:"0.25rem 0 0 0.25rem"},children:"-"}),Object(S.jsx)(v.a.Text,{"data-testid":"numOfGoods",style:{display:"inline-block",padding:"6px",margin:"0",width:"48px",height:"38px",borderBottom:"2px solid #0D6EFD",borderTop:"3px solid #0D6EFD"},children:j}),Object(S.jsx)(k.a,{"data-testid":"addBtn",variant:"primary",onClick:x,style:{width:"3rem",borderRadius:"0 0.25rem 0.25rem 0"},children:"+"})]})]})}):null},E=n(27),B=n(51),C=n.n(B),G=function(){var e=E;return Object(S.jsx)("div",{className:C.a.container,children:e.map((function(e,t){var n=e.id,a=e.name,c=e.category,r=e.price;return Object(S.jsx)(D,{id:n,name:a,category:c,price:r},t)}))})},P=n(52),N=n.n(P),A=function(){var e=E.filter((function(e){return 1===e.category}));return Object(S.jsx)("div",{className:N.a.container,children:e.map((function(e,t){var n=e.id,a=e.name,c=e.category,r=e.price;return Object(S.jsx)(D,{id:n,name:a,category:c,price:r},t)}))})},F=n(53),w=n.n(F),R=function(){var e=E.filter((function(e){return 2===e.category}));return Object(S.jsx)("div",{className:w.a.container,children:e.map((function(e,t){var n=e.id,a=e.name,c=e.category,r=e.price;return Object(S.jsx)(D,{id:n,name:a,category:c,price:r},t)}))})},M=function(e){var t=e.id,n=e.name,a=e.category,r=e.price,i=e.fullPrice,o=e.setFullPrice,d=e.numberOfGoods,l=Object(c.useState)(!0),j=Object(g.a)(l,2),b=j[0],O=j[1],u=Object(c.useState)(d),m=Object(g.a)(u,2),p=m[0],x=m[1],h=Object(s.b)(),T=function(){h(_(t)),O(!1),o(i-r*p)};return t&&n&&a&&r&&d?Object(S.jsx)(S.Fragment,{children:b?Object(S.jsx)(v.a,{"data-testid":"basket",style:{width:"18rem",marginTop:"3rem",display:"flex",flexDirection:"column",justifyContent:"space-between",textAlign:"center"},children:Object(S.jsxs)(v.a.Body,{children:[Object(S.jsx)(v.a.Title,{children:n}),Object(S.jsxs)(v.a.Text,{children:["Category: ",a]}),Object(S.jsxs)(v.a.Text,{style:{fontWeight:"bold"},children:["Price: ",r]}),Object(S.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(S.jsx)(k.a,{"data-testid":"removeBtn",variant:"primary",onClick:function(){1===p?(x(0),T()):(h(y(Object(f.a)({},t,{name:n,category:a,price:r,numberOfGoods:p-1}))),o(i-r),x(p-1))},style:{width:"3rem",borderRadius:"0.25rem 0 0 0.25rem"},children:"-"}),Object(S.jsx)(v.a.Text,{"data-testid":"numOfGoods",style:{display:"inline-block",padding:"6px",margin:"0",width:"48px",height:"38px",borderBottom:"2px solid #0D6EFD",borderTop:"3px solid #0D6EFD"},children:p}),Object(S.jsx)(k.a,{"data-testid":"addBtn",variant:"primary",onClick:function(){h(y(Object(f.a)({},t,{name:n,category:a,price:r,numberOfGoods:p+1}))),o(i+r),x(p+1)},style:{width:"3rem",borderRadius:"0 0.25rem 0.25rem 0"},children:"+"})]}),Object(S.jsx)(k.a,{"data-testid":"deleteBtn",variant:"danger",onClick:T,style:{marginTop:"1rem"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"})]})}):null}):null},K=n(73),H=n(54),I=n.n(H),J=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),i=Object(g.a)(r,2),o=i[0],s=i[1],d=T((function(e){return e.basket}));return Object(c.useEffect)((function(){var e=Object.entries(d),t=0;if(e.length){var n=e.map((function(e){return t+=e[1].price*e[1].numberOfGoods,Object(l.a)({id:e[0]},e[1])}));s(t),a(n)}}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("h2",{style:{color:"#fff",marginTop:"2rem"},children:["\u041e\u0431\u0449\u0430\u044f \u0446\u0435\u043d\u0430:",Object(S.jsxs)(K.a,{bg:"secondary",style:{marginLeft:"1rem"},children:[o," \u0440\u0443\u0431."]})]}),Object(S.jsx)("div",{className:I.a.container,children:n.map((function(e,t){var n=e.id,a=e.name,c=e.category,r=e.numberOfGoods,i=e.price;return Object(S.jsx)(M,{id:n,name:a,category:c,price:i,numberOfGoods:r,fullPrice:o,setFullPrice:s},t)}))})]})},L=n(41),V=n(31),z=[{path:"/",exact:!0,component:G},{path:"/first",exact:!0,component:A},{path:"/second",exact:!0,component:R},{path:"/map",exact:!0,component:function(){var e=V.id,t=V.address,n=V.lat,a=V.lng;return Object(S.jsx)("div",{style:{marginTop:"5%"},children:Object(S.jsx)(L.c,{query:{ns:"use-load-option",load:"Map,Placemark,control.ZoomControl,control.FullscreenControl,geoObject.addon.balloon"},children:Object(S.jsx)(L.a,{defaultState:{center:[a,n],zoom:14,controls:["zoomControl","fullscreenControl"]},width:"100%",height:500,children:Object(S.jsx)(L.b,{geometry:[a,n],properties:{iconCaption:"".concat(e),balloonContentBody:"".concat(e,", ").concat(t)}})})})})}},{path:"/basket",exact:!0,component:J}],W=n(75),q=n(74),U=n(76),Z=n.p+"static/media/shopping-cart.34d0f5a4.svg",Q=n(25),X=n.n(Q),Y=function(){var e=Object(c.useState)(0),t=Object(g.a)(e,2),n=t[0],a=t[1],r=T((function(e){return e.basket}));return Object(c.useEffect)((function(){var e=Object.values(r),t=0;e.length&&e.forEach((function(e){t+=e.numberOfGoods})),a(t)}),[r]),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(W.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(S.jsxs)(q.a,{children:[Object(S.jsx)(W.a.Brand,{children:"STORE"}),Object(S.jsx)(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(S.jsxs)(W.a.Collapse,{id:"responsive-navbar-nav",children:[Object(S.jsxs)(U.a,{"data-testid":"navbar",className:"me-auto",children:[Object(S.jsx)(U.a.Link,{children:Object(S.jsx)(x.b,{"data-testid":"home-link",className:X.a.link,to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(S.jsx)(U.a.Link,{children:Object(S.jsx)(x.b,{className:X.a.link,to:"/first",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f 1"})}),Object(S.jsx)(U.a.Link,{children:Object(S.jsx)(x.b,{className:X.a.link,to:"/second",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f 2"})}),Object(S.jsx)(U.a.Link,{children:Object(S.jsx)(x.b,{"data-testid":"contact-link",className:X.a.link,to:"/map",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})]}),Object(S.jsx)(U.a,{children:Object(S.jsx)(U.a.Link,{children:Object(S.jsxs)(x.b,{className:X.a.link__basket,to:"/basket",children:[Object(S.jsx)("img",{className:X.a.basket,src:Z,alt:""}),Object(S.jsx)("span",{className:X.a.counter,children:n})]})})})]})]})})})},$=(n(47),function(){return Object(S.jsx)(x.a,{basename:"/".concat("Shopping-cart","/"),children:Object(S.jsxs)("div",{children:[Object(S.jsx)(Y,{}),Object(S.jsx)(q.a,{children:Object(S.jsx)(h.d,{children:z.map((function(e,t){var n=e.path,a=e.exact,c=e.component;return Object(S.jsx)(h.b,{path:n,exact:a,component:c},t)}))})})]})})});n(69);o.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(s.a,{store:p,children:Object(S.jsx)($,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.8814bca5.chunk.js.map