(this["webpackJsonpreact-store"]=this["webpackJsonpreact-store"]||[]).push([[0],{32:function(e,t,n){e.exports={link:"Header_link__svs2y","nav-link-selected":"Header_nav-link-selected__3syxW",link__basket:"Header_link__basket__1DGA-",basket:"Header_basket__1iVUB",link__wrapper:"Header_link__wrapper__1bNMl",counter:"Header_counter__TfpgF"}},45:function(e){e.exports=JSON.parse('[{"id":1,"name":"Product #1","category":1,"price":100},{"id":2,"name":"Product #2","category":1,"price":150},{"id":3,"name":"Product #3","category":2,"price":600},{"id":4,"name":"Product #4","category":2,"price":1000}]')},50:function(e){e.exports=JSON.parse('{"id":"\u043c\u0430\u0433\u0430\u0437\u0438\u043d \u21161","address":"\u041c\u043e\u0441\u043a\u0432\u0430, \u041a\u0440\u0430\u0441\u043d\u0430\u044f, \u0434. 1","lat":37.618419,"lng":55.751591}')},73:function(e,t,n){e.exports={container:"HomePage_container__bDOKH"}},74:function(e,t,n){e.exports={container:"FirstCategoryPage_container__1RAI0"}},75:function(e,t,n){e.exports={container:"SecondCategoryPage_container__2NHVl"}},76:function(e,t,n){e.exports={container:"BasketPage_container__3jojp",fullPrice:"BasketPage_fullPrice__vayvu"}},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n.n(a),i=n(27),s=n.n(i),o=n(37),d=n(60),l=n(6),j=n(70);!function(e){e.ADD_GOOD_TO_BASKET="ADD_GOOD_TO_BASKET",e.REMOVE_GOOD_FROM_BASKET="REMOVE_GOOD_FROM_BASKET"}(c||(c={}));var b=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):{}}("store"),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.ADD_GOOD_TO_BASKET:return Object(l.a)(Object(l.a)({},e),t.payload);case c.REMOVE_GOOD_FROM_BASKET:return Object(j.omit)(e,[t.payload]);default:return e}},u=Object(d.a)({basket:O}),m=Object(d.b)(u);m.subscribe((function(){var e,t;e="store",t=m.getState().basket,localStorage.setItem(e,JSON.stringify(t))}));var x=m,h=n(10),p=n(41),f=n(2),g=Object(a.createContext)({}),v=function(e){var t=e.children,n=Object(a.useState)(null),c=Object(h.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(!0),o=Object(h.a)(s,2),d=o[0],l=o[1],j=Object(p.b)();return Object(a.useEffect)((function(){var e=Object(p.c)(j,(function(e){i(e?{displayName:e.displayName||"",email:e.email||"",photoURL:e.photoURL||""}:null),l(!1)}));return function(){e()}}),[]),Object(f.jsx)(g.Provider,{value:{user:r,setUser:i,ga:j,isLoading:d},children:t})},y=n(71),_=n(25),k=n(16),S=n(3),B=function(e){return{type:"ADD_GOOD_TO_BASKET",payload:e}},T=function(e){return{type:"REMOVE_GOOD_FROM_BASKET",payload:e}},D=n(101),w=n(57),E=o.c,C=function(e){var t=e.id,n=e.name,c=e.category,r=e.price,i=Object(o.b)(),s=E((function(e){return e.basket})),d=Object(a.useState)(0),l=Object(h.a)(d,2),j=l[0],b=l[1],O=Object(a.useState)(!1),u=Object(h.a)(O,2),m=u[0],x=u[1],p=function(){i(B(Object(S.a)({},t,{name:n,category:c,price:r,numberOfGoods:j+1}))),b(j+1)};return Object(a.useEffect)((function(){var e=s[t];e&&b(e.numberOfGoods)}),[s]),m?Object(f.jsx)(k.a,{to:"/basket"}):t&&n&&c&&r?Object(f.jsx)(D.a,{"data-testid":"showGoods",style:{width:"18rem",marginTop:"3rem",display:"flex",flexDirection:"column",justifyContent:"space-between",textAlign:"center"},children:Object(f.jsxs)(D.a.Body,{children:[Object(f.jsx)(D.a.Title,{children:n}),Object(f.jsxs)(D.a.Text,{children:["Category: ",c]}),Object(f.jsxs)(D.a.Text,{style:{fontWeight:"bold"},children:["Price: ",r]}),0===j?Object(f.jsx)(w.a,{"data-testid":"addInBasket",variant:"primary",onClick:p,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"}):Object(f.jsxs)("div",{"data-testid":"chooseItemsBlock",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)(w.a,{variant:"success",style:{marginRight:"0.25rem",height:"38px",fontSize:"15px"},onClick:function(){return x(!0)},children:"\u041a \u043a\u043e\u0440\u0437\u0438\u043d\u0435"}),Object(f.jsx)(w.a,{"data-testid":"removeBtn",variant:"primary",onClick:function(){1===j?(b(0),i(T(t))):(i(B(Object(S.a)({},t,{name:n,category:c,price:r,numberOfGoods:j-1}))),b(j-1))},style:{width:"3rem",borderRadius:"0.25rem 0 0 0.25rem"},children:"-"}),Object(f.jsx)(D.a.Text,{"data-testid":"numOfGoods",style:{display:"inline-block",padding:"6px",margin:"0",width:"48px",height:"38px",borderBottom:"2px solid #0D6EFD",borderTop:"3px solid #0D6EFD"},children:j}),Object(f.jsx)(w.a,{"data-testid":"addBtn",variant:"primary",onClick:p,style:{width:"3rem",borderRadius:"0 0.25rem 0.25rem 0"},children:"+"})]})]})}):null},N=n(45),G=n(73),A=n.n(G),P=function(){var e=N;return Object(f.jsx)("div",{className:A.a.container,children:e.map((function(e,t){var n=e.id,c=e.name,a=e.category,r=e.price;return Object(f.jsx)(C,{id:n,name:c,category:a,price:r},t)}))})},R=n(74),F=n.n(R),I=function(){var e=N.filter((function(e){return 1===e.category}));return Object(f.jsx)("div",{className:F.a.container,children:e.map((function(e,t){var n=e.id,c=e.name,a=e.category,r=e.price;return Object(f.jsx)(C,{id:n,name:c,category:a,price:r},t)}))})},L=n(75),M=n.n(L),K=function(){var e=N.filter((function(e){return 2===e.category}));return Object(f.jsx)("div",{className:M.a.container,children:e.map((function(e,t){var n=e.id,c=e.name,a=e.category,r=e.price;return Object(f.jsx)(C,{id:n,name:c,category:a,price:r},t)}))})},z=function(e){var t=e.id,n=e.name,c=e.category,r=e.price,i=e.fullPrice,s=e.setFullPrice,d=e.numberOfGoods,l=Object(a.useState)(!0),j=Object(h.a)(l,2),b=j[0],O=j[1],u=Object(a.useState)(d),m=Object(h.a)(u,2),x=m[0],p=m[1],g=Object(o.b)(),v=function(){g(T(t)),O(!1),s(i-r*x)};return t&&n&&c&&r&&d?Object(f.jsx)(f.Fragment,{children:b?Object(f.jsx)(D.a,{"data-testid":"basket",style:{width:"18rem",marginTop:"3rem",display:"flex",flexDirection:"column",justifyContent:"space-between",textAlign:"center"},children:Object(f.jsxs)(D.a.Body,{children:[Object(f.jsx)(D.a.Title,{children:n}),Object(f.jsxs)(D.a.Text,{children:["Category: ",c]}),Object(f.jsxs)(D.a.Text,{style:{fontWeight:"bold"},children:["Price: ",r]}),Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(f.jsx)(w.a,{"data-testid":"removeBtn",variant:"primary",onClick:function(){1===x?(p(0),v()):(g(B(Object(S.a)({},t,{name:n,category:c,price:r,numberOfGoods:x-1}))),s(i-r),p(x-1))},style:{width:"3rem",borderRadius:"0.25rem 0 0 0.25rem"},children:"-"}),Object(f.jsx)(D.a.Text,{"data-testid":"numOfGoods",style:{display:"inline-block",padding:"6px",margin:"0",width:"48px",height:"38px",borderBottom:"2px solid #0D6EFD",borderTop:"3px solid #0D6EFD"},children:x}),Object(f.jsx)(w.a,{"data-testid":"addBtn",variant:"primary",onClick:function(){g(B(Object(S.a)({},t,{name:n,category:c,price:r,numberOfGoods:x+1}))),s(i+r),p(x+1)},style:{width:"3rem",borderRadius:"0 0.25rem 0.25rem 0"},children:"+"})]}),Object(f.jsx)(w.a,{"data-testid":"deleteBtn",variant:"danger",onClick:v,style:{marginTop:"1rem"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"})]})}):null}):null},H=n(97),J=n(76),V=n.n(J),U=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),i=Object(h.a)(r,2),s=i[0],o=i[1],d=E((function(e){return e.basket}));return Object(a.useEffect)((function(){var e=Object.entries(d),t=0;if(e.length){var n=e.map((function(e){return t+=e[1].price*e[1].numberOfGoods,Object(l.a)({id:e[0]},e[1])}));o(t),c(n)}}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("h2",{style:{color:"#fff",marginTop:"2rem"},children:["\u041e\u0431\u0449\u0430\u044f \u0446\u0435\u043d\u0430:",Object(f.jsxs)(H.a,{bg:"secondary",style:{marginLeft:"1rem"},children:[s," \u0440\u0443\u0431."]})]}),Object(f.jsx)("div",{className:V.a.container,children:n.map((function(e,t){var n=e.id,c=e.name,a=e.category,r=e.numberOfGoods,i=e.price;return Object(f.jsx)(z,{id:n,name:c,category:a,price:i,numberOfGoods:r,fullPrice:s,setFullPrice:o},t)}))})]})},W=n(61),q=n(50),Y=function(){var e=q.id,t=q.address,n=q.lat,c=q.lng;return Object(f.jsx)("div",{style:{marginTop:"5%"},children:Object(f.jsx)(W.c,{query:{ns:"use-load-option",load:"Map,Placemark,control.ZoomControl,control.FullscreenControl,geoObject.addon.balloon"},children:Object(f.jsx)(W.a,{defaultState:{center:[c,n],zoom:14,controls:["zoomControl","fullscreenControl"]},width:"100%",height:500,children:Object(f.jsx)(W.b,{geometry:[c,n],properties:{iconCaption:"".concat(e),balloonContentBody:"".concat(e,", ").concat(t)}})})})})},Z=n.p+"static/media/google.817fc47e.png",$=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],c=t[1];return n?Object(f.jsx)(k.a,{to:"/"}):Object(f.jsxs)("div",{style:{margin:"12rem auto 0",width:"50%",textAlign:"center"},children:[Object(f.jsx)("img",{style:{width:"30%",marginBottom:"2rem"},src:Z,alt:"google"}),Object(f.jsx)(w.a,{onClick:function(){var e=new p.a,t=Object(p.b)();Object(p.d)(t,e).then((function(e){e.user&&c(!0)})).catch((function(e){console.log(e)}))},variant:"primary",size:"lg",style:{width:"100%"},children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})," "]})},Q=n(66),X=function(){return Object(a.useContext)(g)},ee=n(54),te=[{path:"/",exact:!0,component:P},{path:"/first",exact:!0,component:I},{path:"/second",exact:!0,component:K},{path:"/map",exact:!0,component:Y},{path:"/basket",exact:!0,component:U},{path:"/login",exact:!0,component:$},{path:"/cabinet",exact:!0,component:function(){var e=X(),t=e.user,n=e.ga,c=Object(a.useState)(!0),r=Object(h.a)(c,2),i=r[0],s=r[1];return i?Object(f.jsxs)("div",{style:{margin:"2rem auto 0",width:"70%",textAlign:"center"},children:[Object(f.jsx)("h1",{style:{color:"#fff",marginBottom:"5rem"},children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(f.jsxs)("div",{style:{marginBottom:"5rem"},children:[Object(f.jsx)(Q.a,{children:Object(f.jsx)(Q.a.Image,{width:171,height:180,alt:"171x180",src:null===t||void 0===t?void 0:t.photoURL})}),Object(f.jsxs)("h2",{style:{color:"#fff",marginBottom:"1rem"},children:["\u0418\u043c\u044f: ",null===t||void 0===t?void 0:t.displayName]}),Object(f.jsxs)("h3",{style:{color:"#fff",marginBottom:"2rem"},children:["\u041f\u043e\u0447\u0442\u0430: ",null===t||void 0===t?void 0:t.email]})]}),Object(f.jsx)(w.a,{onClick:function(){s(!1),Object(ee.e)(n)},variant:"primary",size:"lg",style:{width:"40%"},children:"\u0412\u044b\u0439\u0442\u0438"})," "]}):Object(f.jsx)(k.a,{to:"/"})}}],ne=n(99),ce=n(98),ae=n(100),re=n.p+"static/media/shopping-cart.5d65b107.svg",ie=n(32),se=n.n(ie),oe=function(){var e=Object(a.useState)(0),t=Object(h.a)(e,2),n=t[0],c=t[1],r=X().user,i=E((function(e){return e.basket}));return Object(a.useEffect)((function(){var e=Object.values(i),t=0;e.length&&e.forEach((function(e){t+=e.numberOfGoods})),c(t)}),[i]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ne.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(f.jsxs)(ce.a,{children:[Object(f.jsx)(ne.a.Brand,{children:"STORE"}),Object(f.jsx)(ne.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(f.jsxs)(ne.a.Collapse,{id:"responsive-navbar-nav",children:[Object(f.jsxs)(ae.a,{"data-testid":"navbar",className:"me-auto",children:[Object(f.jsx)(ae.a.Link,{children:Object(f.jsx)(_.b,{"data-testid":"home-link",className:se.a.link,to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(f.jsx)(ae.a.Link,{children:Object(f.jsx)(_.b,{className:se.a.link,to:"/first",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f 1"})}),Object(f.jsx)(ae.a.Link,{children:Object(f.jsx)(_.b,{className:se.a.link,to:"/second",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f 2"})}),Object(f.jsx)(ae.a.Link,{children:Object(f.jsx)(_.b,{"data-testid":"contact-link",className:se.a.link,to:"/map",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})]}),Object(f.jsx)(ae.a,{children:Object(f.jsxs)("div",{className:se.a.link__wrapper,children:[Object(f.jsx)(ae.a.Link,{children:Object(f.jsxs)(_.b,{style:{marginRight:"5px"},className:se.a.link__basket,to:"/basket",children:[Object(f.jsx)("img",{className:se.a.basket,src:re,alt:""}),Object(f.jsx)("span",{className:se.a.counter,children:n})]})}),r?Object(f.jsx)(ae.a.Link,{children:Object(f.jsx)(_.b,{className:se.a.link,to:"/cabinet",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}):Object(f.jsx)(ae.a.Link,{children:Object(f.jsx)(_.b,{className:se.a.link,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})})]})})]})]})})})},de=(n(93),function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{style:{margin:"15rem auto 0",width:"100%",textAlign:"center"},children:Object(f.jsx)("div",{className:"loadingio-spinner-spin-fxzgky80vf",children:Object(f.jsxs)("div",{className:"ldio-6aqm8lk88wo",children:[Object(f.jsx)("div",{children:Object(f.jsx)("div",{})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{})})]})})})})}),le=(n(68),function(){return X().isLoading?Object(f.jsx)(de,{}):Object(f.jsx)(_.a,{basename:"/".concat("Shopping-cart","/"),children:Object(f.jsxs)("div",{children:[Object(f.jsx)(oe,{}),Object(f.jsx)(ce.a,{children:Object(f.jsxs)(k.d,{children:[te.map((function(e,t){var n=e.path,c=e.exact,a=e.component;return Object(f.jsx)(k.b,{path:n,exact:c,component:a},t)})),Object(f.jsx)(k.a,{to:"/"})]})})]})})});n(94);y.a({apiKey:"AIzaSyB_aY4uWPcTAmuoDG6sW9LJMpBuTwBKjnI",authDomain:"store-react-eizer.firebaseapp.com",projectId:"store-react-eizer",storageBucket:"store-react-eizer.appspot.com",messagingSenderId:"500066303336",appId:"1:500066303336:web:2d66a74be39518dd7aaadd",measurementId:"${config.measurementId}"}),s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(v,{children:Object(f.jsx)(o.a,{store:x,children:Object(f.jsx)(le,{})})})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.ea77f24a.chunk.js.map