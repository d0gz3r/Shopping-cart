{"version":3,"sources":["components/Header/Header.module.css","containers/HomePage/HomePage.module.css","containers/FirstCategoryPage/FirstCategoryPage.module.css","containers/SecondCategoryPage/SecondCategoryPage.module.css","containers/BasketPage/BasketPage.module.css","containers/App/App.module.css","store/constants/actionTypes.js","store/reducers/basketReducer.js","store/reducers/index.js","store/store.js","store/actions/index.js","components/ShowGoods/ShowGoods.jsx","containers/HomePage/HomePage.jsx","containers/FirstCategoryPage/FirstCategoryPage.jsx","containers/SecondCategoryPage/SecondCategoryPage.jsx","components/Basket/Basket.jsx","containers/BasketPage/BasketPage.jsx","routes/routesConfig.js","components/Header/img/shopping-cart.svg","components/Header/Header.jsx","containers/App/App.jsx","constants/repo.js","index.js"],"names":["module","exports","ADD_GOOD_TO_BASKET","REMOVE_GOOD_FROM_BASKET","initialState","basketReducer","state","action","type","payload","omit","combineReducers","store","createStore","roorReducer","addGoodToBasket","good","removeGoodFromBasket","goodId","ShowGoods","id","name","category","price","dispatch","useDispatch","storeData","useSelector","useState","numberOfGoods","setNumberOfGoods","dispatchGoodsInBasket","useEffect","arr","Card","style","width","marginTop","display","flexDirection","justifyContent","textAlign","Body","Title","Text","fontWeight","Button","variant","onClick","marginRight","HomePage","className","styles","container","dataBase","map","index","FirstCategoryPage","firstCategory","filter","elem","SecondCategoryPage","secondCategory","Basket","fullPrice","setFullPrice","showGoods","setShowGoods","numOfGoods","setNumOfGoods","remove","BasketPage","goods","setGoods","Object","entries","allPrice","length","res","color","Badge","bg","marginLeft","routesConfig","path","exact","component","Header","counter","setCounter","values","sumOfGoods","forEach","Navbar","collapseOnSelect","expand","Container","Brand","Toggle","Collapse","Nav","Link","link","to","link__basket","basket","src","alt","App","basename","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ac2d3114.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Header_link__svs2y\",\"nav-link-selected\":\"Header_nav-link-selected__3syxW\",\"link__basket\":\"Header_link__basket__1DGA-\",\"basket\":\"Header_basket__1iVUB\",\"counter\":\"Header_counter__TfpgF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomePage_container__bDOKH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FirstCategoryPage_container__1RAI0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SecondCategoryPage_container__2NHVl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BasketPage_container__3jojp\",\"fullPrice\":\"BasketPage_fullPrice__vayvu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__39TQc\"};","export const ADD_GOOD_TO_BASKET = 'ADD_GOOD_TO_BASKET';\r\nexport const REMOVE_GOOD_FROM_BASKET = 'REMOVE_GOOD_FROM_BASKET';","import { omit } from 'lodash';\r\nimport { ADD_GOOD_TO_BASKET, REMOVE_GOOD_FROM_BASKET } from '../constants/actionTypes';\r\n\r\nconst initialState = {};\r\n\r\nconst basketReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_GOOD_TO_BASKET: \r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    case REMOVE_GOOD_FROM_BASKET: \r\n      return omit(state, [action.payload])\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default basketReducer;","import basketReducer from \"./basketReducer\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nexport default combineReducers({\r\n  basketReducer\r\n})","import { createStore } from \"redux\";\r\nimport roorReducer from './reducers';\r\n\r\nconst store = createStore(roorReducer);\r\n\r\nexport default store;","import { ADD_GOOD_TO_BASKET, REMOVE_GOOD_FROM_BASKET } from \"../constants/actionTypes\"\r\n\r\nexport const addGoodToBasket = (good) => ({\r\n  type: ADD_GOOD_TO_BASKET,\r\n  payload: good\r\n})\r\n\r\nexport const removeGoodFromBasket = (goodId) => ({\r\n  type: REMOVE_GOOD_FROM_BASKET,\r\n  payload: goodId\r\n})","import PropTypes from 'prop-types';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addGoodToBasket, removeGoodFromBasket } from '../../store/actions';\r\nimport { useEffect, useState } from 'react';\r\nimport { Card, Button } from 'react-bootstrap';\r\n\r\nimport styles from './ShowGoods.module.css';\r\n\r\nconst ShowGoods = ({\r\n  id,\r\n  name,\r\n  category,\r\n  price\r\n}) => {\r\n  // STORE\r\n  const dispatch = useDispatch();\r\n  const storeData = useSelector(store => store.basketReducer);\r\n\r\n  //  STATE\r\n  const [numberOfGoods, setNumberOfGoods] = useState(0);\r\n\r\n\r\n  const dispatchGoodsInBasket = () => {\r\n\r\n    dispatch(addGoodToBasket({\r\n      [id]:{\r\n        name,\r\n        category,\r\n        price,\r\n        numberOfGoods: numberOfGoods+1\r\n      }\r\n    }));  \r\n\r\n    setNumberOfGoods(numberOfGoods+1);\r\n  }  \r\n\r\n  const removeGood = () => {\r\n    if(numberOfGoods === 1){\r\n      setNumberOfGoods(0); \r\n      dispatch(removeGoodFromBasket(id)); \r\n    }else{\r\n      dispatch(addGoodToBasket({\r\n        [id]:{\r\n          name,\r\n          category,\r\n          price,\r\n          numberOfGoods: numberOfGoods-1\r\n        }\r\n      }));   \r\n      setNumberOfGoods(numberOfGoods-1);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const arr = storeData[id];\r\n    if(arr){\r\n      setNumberOfGoods(arr.numberOfGoods);\r\n    }\r\n  }, [storeData])\r\n\r\n  return (\r\n    <Card style={{ width: '18rem', marginTop: '3rem', display: 'flex', flexDirection: 'column', justifyContent: 'space-between', textAlign: 'center'}}>\r\n      <Card.Body>\r\n        <Card.Title>{name}</Card.Title>\r\n        <Card.Text>\r\n          Category: {category}\r\n        </Card.Text>\r\n        <Card.Text style={{fontWeight: 'bold'}}>\r\n          Price: {price}\r\n        </Card.Text>\r\n        <Card.Text>\r\n          Добавлено товаров: {numberOfGoods}\r\n        </Card.Text>\r\n        {numberOfGoods === 0 \r\n          ? <Button variant=\"primary\" onClick={dispatchGoodsInBasket}>Добавить в корзину</Button> \r\n          : \r\n          <div>\r\n            <Button variant=\"primary\" onClick={dispatchGoodsInBasket} style={{width: '3rem', marginRight: '1rem', textAlign: 'center'}}>+</Button>\r\n            <Button variant=\"primary\" onClick={removeGood} style={{width: '3rem'}}>-</Button>\r\n          </div>        \r\n        }\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nShowGoods.propTypes = {\r\n  id: PropTypes.number,\r\n  name: PropTypes.string,\r\n  category: PropTypes.number,\r\n  price: PropTypes.number\r\n}\r\n\r\nexport default ShowGoods;","import ShowGoods from '../../components/ShowGoods/ShowGoods';\r\n\r\nimport dataBase from '../../dataBase/goods.json'\r\n\r\nimport styles from './HomePage.module.css';\r\n\r\nconst HomePage = () => {\r\n  \r\n  return (\r\n    <div className={styles.container}>\r\n      {dataBase.map(({id, name, category, price}, index) => {\r\n        return (\r\n          <ShowGoods \r\n            key={index}\r\n            id={id}\r\n            name={name}\r\n            category={category}\r\n            price={price} \r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage;","import ShowGoods from '../../components/ShowGoods/ShowGoods';\r\n\r\nimport dataBase from '../../dataBase/goods.json'\r\n\r\nimport styles from './FirstCategoryPage.module.css';\r\n\r\nconst FirstCategoryPage = () => {\r\n\r\n  const firstCategory = dataBase.filter((elem) => {\r\n    return elem.category === 1;\r\n  })\r\n  \r\n  return (\r\n    <div className={styles.container}>\r\n      {firstCategory.map(({id, name, category, price}, index) => {\r\n        return (\r\n          <ShowGoods \r\n            key={index}\r\n            id={id}\r\n            name={name}\r\n            category={category}\r\n            price={price} \r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FirstCategoryPage;","import ShowGoods from '../../components/ShowGoods/ShowGoods';\r\n\r\nimport dataBase from '../../dataBase/goods.json'\r\n\r\nimport styles from './SecondCategoryPage.module.css';\r\n\r\nconst SecondCategoryPage = () => {\r\n\r\n  const secondCategory = dataBase.filter((elem) => {\r\n    return elem.category === 2;\r\n  })\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {secondCategory.map(({id, name, category, price}, index) => {\r\n        return (\r\n          <ShowGoods \r\n            key={index}\r\n            id={id}\r\n            name={name}\r\n            category={category}\r\n            price={price} \r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SecondCategoryPage;","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { removeGoodFromBasket, addGoodToBasket } from '../../store/actions';\r\nimport { Card, Button } from 'react-bootstrap';\r\n\r\nimport styles from './Basket.module.css';\r\n\r\nconst Basket = ({\r\n  id,\r\n  name,\r\n  category,\r\n  price,\r\n  fullPrice,\r\n  setFullPrice,\r\n  numberOfGoods\r\n}) => {\r\n  const [showGoods, setShowGoods] = useState(true);\r\n  const [numOfGoods, setNumOfGoods] = useState(numberOfGoods);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const remove = () => {\r\n    dispatch(removeGoodFromBasket(id));\r\n    setShowGoods(false);\r\n    setFullPrice(fullPrice-(price*numOfGoods));\r\n  }\r\n\r\n  const dispatchGoodsInBasket = () => {\r\n    dispatch(addGoodToBasket({\r\n      [id]:{\r\n        name,\r\n        category,\r\n        price,\r\n        numberOfGoods: numOfGoods+1\r\n      }\r\n    }));  \r\n    setFullPrice(fullPrice+price)\r\n    setNumOfGoods(numOfGoods+1);\r\n  }\r\n\r\n  const removeGood = () => {\r\n    if(numOfGoods === 1){\r\n      setNumOfGoods(0); \r\n      remove();\r\n    }else{\r\n      dispatch(addGoodToBasket({\r\n        [id]:{\r\n          name,\r\n          category,\r\n          price,\r\n          numberOfGoods: numOfGoods-1\r\n        }\r\n      }));   \r\n      setFullPrice(fullPrice-price)\r\n      setNumOfGoods(numOfGoods-1);\r\n    }  \r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!showGoods \r\n        ? null\r\n        : \r\n        <Card style={{ width: '18rem', marginTop: '3rem', display: 'flex', flexDirection: 'column', justifyContent: 'space-between', textAlign: 'center'}}>\r\n          <Card.Body>\r\n            <Card.Title>{name}</Card.Title>\r\n            <Card.Text>\r\n              Category: {category}\r\n            </Card.Text>\r\n            <Card.Text style={{fontWeight: 'bold'}}>\r\n              Price: {price}\r\n            </Card.Text>\r\n            <Card.Text>\r\n              Добавлено товаров: {numOfGoods}\r\n            </Card.Text>\r\n            <div>\r\n              <Button variant=\"primary\" onClick={dispatchGoodsInBasket} style={{width: '3rem', marginRight: '1rem', textAlign: 'center'}}>+</Button>\r\n              <Button variant=\"primary\" onClick={removeGood} style={{width: '3rem'}}>-</Button>\r\n            </div>\r\n            <Button variant=\"primary\" onClick={remove} style={{marginTop: '1rem'}}>Удалить из корзины</Button>\r\n          </Card.Body>\r\n        </Card>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nBasket.propTypes = {\r\n  id: PropTypes.string,\r\n  name: PropTypes.string,\r\n  category: PropTypes.number,\r\n  price: PropTypes.number,\r\n  numberOfGoods: PropTypes.number\r\n}\r\n\r\nexport default Basket;","import { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Basket from '../../components/Basket/Basket';\r\n\r\nimport { Badge } from 'react-bootstrap';\r\n\r\nimport styles from './BasketPage.module.css';\r\n\r\nconst BasketPage = () => {\r\n  const [goods, setGoods] = useState([]);\r\n  const [fullPrice, setFullPrice] = useState(0);\r\n\r\n  const storeData = useSelector(store => store.basketReducer);\r\n\r\n  useEffect(() => {\r\n    const arr = Object.entries(storeData);\r\n    let allPrice = 0;\r\n    \r\n    if(arr.length){\r\n      const res = arr.map((elem) => {\r\n        allPrice += elem[1].price*elem[1].numberOfGoods;\r\n\r\n        return {\r\n          id: elem[0],\r\n          ...elem[1]\r\n        }\r\n      }) \r\n      setFullPrice(allPrice);\r\n      setGoods(res);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h2 style={{color: '#fff', marginTop:'2rem'}}>Общая цена:<Badge bg=\"secondary\" style={{marginLeft: '1rem'}}>{fullPrice} руб.</Badge></h2>\r\n\r\n      <div className={styles.container}>\r\n        {goods.map(({id, name, category, numberOfGoods, price}, index) => {\r\n          return (\r\n            <Basket \r\n              key={index}\r\n              id={id}\r\n              name={name}\r\n              category={category}\r\n              price={price} \r\n              numberOfGoods={numberOfGoods}\r\n              fullPrice={fullPrice}\r\n              setFullPrice={setFullPrice} \r\n            /> \r\n          )\r\n        })}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default BasketPage;","import HomePage from \"../containers/HomePage/HomePage\";\r\nimport FirstCategoryPage from \"../containers/FirstCategoryPage/FirstCategoryPage\";\r\nimport SecondCategoryPage from \"../containers/SecondCategoryPage/SecondCategoryPage\";\r\nimport BasketPage from \"../containers/BasketPage/BasketPage\";\r\n\r\nconst routesConfig = [\r\n  {\r\n    path: '/',\r\n    exact: true,\r\n    component: HomePage\r\n  },\r\n  {\r\n    path: '/first',\r\n    exact: true,\r\n    component: FirstCategoryPage\r\n  },\r\n  {\r\n    path: '/second',\r\n    exact: true,\r\n    component: SecondCategoryPage\r\n  },\r\n  {\r\n    path: '/basket',\r\n    exact: true,\r\n    component: BasketPage\r\n  },\r\n]\r\n\r\nexport default routesConfig;","export default __webpack_public_path__ + \"static/media/shopping-cart.34d0f5a4.svg\";","import { useSelector } from 'react-redux';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Bootstrap\r\nimport { Navbar, Container, Nav} from 'react-bootstrap';\r\n//\r\n\r\nimport basket from './img/shopping-cart.svg';\r\nimport styles from './Header.module.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst Header = () => {\r\n  const [counter, setCounter] = useState(0);\r\n\r\n  const storeData = useSelector(store => store.basketReducer);\r\n\r\n  useEffect(() => {\r\n    const arr = Object.values(storeData);\r\n    let sumOfGoods = 0;\r\n\r\n    if(arr.length){\r\n      arr.forEach((elem) => {\r\n        sumOfGoods += elem.numberOfGoods;\r\n      })\r\n    }\r\n   \r\n    setCounter(sumOfGoods);\r\n  }, [storeData]);\r\n\r\n\r\n  return (\r\n    <>\r\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Container>\r\n        <Navbar.Brand>STORE</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          <Nav className=\"me-auto\">\r\n            <Nav.Link><Link className={styles.link} to=\"/\" exact>Главная</Link></Nav.Link>\r\n            <Nav.Link><Link className={styles.link} to=\"/first\" exact>Категория 1</Link></Nav.Link>\r\n            <Nav.Link><Link className={styles.link} to=\"/second\" exact>Категория 2</Link></Nav.Link>\r\n          </Nav>\r\n          <Nav>\r\n            <Nav.Link><Link className={styles.link__basket} to=\"/basket\" exact><img className={styles.basket} src={basket} alt=\"\" /><span className={styles.counter}>{counter}</span></Link></Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;","import { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport routesConfig from '../../routes/routesConfig';\r\nimport Header from '../../components/Header/Header';\r\nimport { REPO_NAME } from '../../constants/repo';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Container } from 'react-bootstrap';\r\n\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport styles from './App.module.css';\r\n\r\nconst App = () => {\r\n  return (   \r\n    <BrowserRouter basename={`/${REPO_NAME}/`}>\r\n      <div>\r\n        <Header />\r\n\r\n      <Container>\r\n        <Switch>\r\n          {routesConfig.map(({path, exact, component}, index) => {\r\n            return (\r\n              <Route \r\n                key={index}\r\n                path={path}\r\n                exact={exact}\r\n                component={component}\r\n              />\r\n            )\r\n          })}\r\n        </Switch>\r\n      </Container>\r\n      </div>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default App;","export const REPO_NAME = 'Shopping-cart';","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store/store';\r\n\r\nimport App from './containers/App/App';\r\nimport './styles/index.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}